package com.cjf.demo.juint;

import cn.hutool.core.collection.CollectionUtil;
import com.cjf.demo.po.UnitVO;
import com.cjf.demo.response.BusinessProcessResponse;
import com.cjf.demo.utils.JsonUtil;
import com.cjf.demo.utils.MathUtil;
import com.cjf.demo.utils.StringUtil;
import com.cjf.demo.vo.RelateVO;
import com.cjf.demo.vo.TreeVO;
import com.fasterxml.jackson.core.type.TypeReference;
import com.faw.supplychain.common.model.BaseResult;
import org.junit.jupiter.api.Test;
import org.junit.platform.commons.util.StringUtils;

import java.util.*;
import java.util.concurrent.atomic.AtomicInteger;
import java.util.function.BinaryOperator;
import java.util.stream.Collectors;

/**
 * @author : chenjianfeng
 * @date : 2023/5/11
 */
public class TestStreamTwo {

    protected List<UnitVO> arrayList = Arrays.asList(

            new UnitVO("BU2304181508451249","线索分配","MIDDLE",
                    Collections.singletonList(new UnitVO("BU2304181506328227", "线索收集","",
                            null))),
            new UnitVO("BU2304181510225705","线索跟进","MIDDLE",
                    Collections.singletonList(new UnitVO("BU2304181508451249", "线索分配","",
                            null))),
            new UnitVO("BU2304181506328227","线索收集","START",
                    Collections.singletonList(new UnitVO("", "","", null))),

            new UnitVO("BU2304181511512627","谈判投标","END",
                    Arrays.asList(new UnitVO("BU2304181510225705", "线索跟进","", null)))



    );

    @Test
    public void test_1(){
        LinkedList<UnitVO> list = new LinkedList<>();

        list.addFirst(arrayList.stream().filter(data -> Objects.equals(data.getPosition(),"START")).findFirst().orElse(null));
        AtomicInteger index = new AtomicInteger();
        while (list.size() != arrayList.size()-1){
            List<UnitVO> middleList = arrayList.stream().filter(data -> Objects.equals(data.getPosition(),"MIDDLE"))
                    .collect(Collectors.toList());
            for(UnitVO data : middleList){
                for(UnitVO preData : data.getPreUnitCodeList()){
                    if(Objects.equals(preData.getUnitCode(),list.get(index.get()).getUnitCode())){
                        list.add(data);
                    }
                }
            }
            index.getAndIncrement();
        }
        list.addLast(arrayList.stream().filter(data -> Objects.equals(data.getPosition(),"END")).findFirst().orElse(null));


        list.forEach(System.out::println);
    }

    @Test
    public void test_2(){

        String response = "{\"success\":true,\"code\":200,\"message\":\"操作成功\",\"data\":[{\"id\":\"61552613f9be4c815476ed190d9ee523\",\"code\":\"OTD0300M001GLB\",\"name\":\"订单实现流程（OTD）\",\"level\":\"L1\",\"busMainlineId\":null,\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"一级流程\",\"recordStatus\":1,\"parentId\":null,\"createdBy\":\"1564088207404610000\",\"created\":\"2023-04-21 16:18:20\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"2484fc2ad7e8d649227437cb11362a65\",\"code\":\"OTD0301M001SCB\",\"name\":\"订单及需求管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"以年度销量规划为基础，根据市场季节指数、渠道开业节奏、年型产品切换节奏及新产品爬坡节奏等制定年度生产需求计划并发布的流程\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 16:26:09\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"84922a809a5e6aa3344f6e73a2dd1680\",\"code\":\"OTD030101P006SCB\",\"name\":\"年度生产需求计划制定流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"年度生产需求计划制定\",\"description\":\"以年度销量规划为基础，根据市场季节指数、渠道开业节奏、年型产品切换节奏及新产品爬坡节奏等制定年度生产需求计划并发布的流程\",\"recordStatus\":1,\"parentId\":\"2484fc2ad7e8d649227437cb11362a65\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:47:10\",\"processVersion\":\"V3.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"1239376144f5bd74f44bd2546099c0a8\",\"code\":\"OTD03010101P068SCB\",\"name\":\"年度销量规划流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"规划年度销量（分车型）\",\"description\":\"规划年度销量（分车型）\",\"recordStatus\":1,\"parentId\":\"84922a809a5e6aa3344f6e73a2dd1680\",\"createdBy\":\"1501028120421044226\",\"created\":\"2023-05-11 15:21:30\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"1baf35927812951c0b0a83d42fbe3d6d\",\"code\":\"OTD030102P033SCB\",\"name\":\"月度生产需求滚动计划制定流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"月度生产需求滚动计划制定\",\"description\":\"适用于根据市场趋势变化和滚动销售预测等情况，更新月度产销存计划，并修订输出月度生产需求计划的全过程\",\"recordStatus\":1,\"parentId\":\"2484fc2ad7e8d649227437cb11362a65\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:49:10\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"2c29a133b60f11df8bf5ead348c73ee4\",\"code\":\"OTD030103P034SCB\",\"name\":\"整车周度生产需求订单提报流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"整车周度生产需求订单提报\",\"description\":\"根据经销商提报周度需求订单，对月度生产需求计划进行调整，以尽早满足客户订单需求，同时提高经销商库存和资金周转效率\",\"recordStatus\":1,\"parentId\":\"2484fc2ad7e8d649227437cb11362a65\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:50:56\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"d411e422c1570456dd7dd57025d5974f\",\"code\":\"OTD03010302P151SCB\",\"name\":\"经销商周度订单提报流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"经销商周度订单提报\",\"description\":\"收集终端经销商需求，并将需求提报至生产端\",\"recordStatus\":1,\"parentId\":\"2c29a133b60f11df8bf5ead348c73ee4\",\"createdBy\":\"1501028120421044226\",\"created\":\"2023-05-18 13:50:25\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"f1312edc81d9e682268404eedb6fe279\",\"code\":\"OTD0302M001SCB\",\"name\":\"生产计划管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":null,\"description\":\"本流程以满足需求订单为出发点，通过营销、制造、工程、物流的协同，完成年、月、周产供销平衡，并形成发布年、月、周、日生产计划，降低整车成本及保证整车质量的同时，确保订单准时交付客户\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:03:58\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"3cffb1bceb555157fd440ad5035fef2f\",\"code\":\"OTD030202P013SCB\",\"name\":\"年度生产规划管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"年度生产规划管理\",\"description\":\"本流程以保障整车生产及内制件生产能力为出发点，通过规范年度产能规划方案的形成与实施，确保项目投资合理、市场需求得以及时满足，保证产能利用率维持在经济区间\",\"recordStatus\":1,\"parentId\":\"f1312edc81d9e682268404eedb6fe279\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:53:13\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"ee1a6b2beb8719321f3524ffa5ba82a1\",\"code\":\"OTD03020101P126SCB\",\"name\":\"工厂自制产能管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按工厂\",\"description\":\"按工厂结合年度需求进行自制产能管理\",\"recordStatus\":1,\"parentId\":\"3cffb1bceb555157fd440ad5035fef2f\",\"createdBy\":\"1529289817864847362\",\"created\":\"2023-05-16 11:33:45\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"58461ad5425d7068f022fca6153cba31\",\"code\":\"OTD030204P013SCB\",\"name\":\"产销平衡管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"产销平衡管理\",\"description\":\"本流程的处理对象为待平衡的月度/周度生产需求滚动计划、工厂产能调整方案（初版）、风险外协件解决方案（初版）核查结果形成后，触发本流程，主要是指需求端和能力端打合匹配，并通过产销平衡会，最终形成工厂级整车月度/周度生产计划、工厂级动力总成月度/周度生产计划的过程\",\"recordStatus\":1,\"parentId\":\"f1312edc81d9e682268404eedb6fe279\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:55:05\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"73fe9a8efdb3ac2c18988b0f0b2f9793\",\"code\":\"OTD03020201P095SCB\",\"name\":\"周度计划平衡流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"生产地\",\"description\":\"规范了周度计划平衡步骤、平衡内容及时间节点等\",\"recordStatus\":1,\"parentId\":\"58461ad5425d7068f022fca6153cba31\",\"createdBy\":\"1501029270079770626\",\"created\":\"2023-05-12 10:57:20\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"c4f75722066ae70df47cdb8c0381c0ce\",\"code\":\"OTD03020202P123SCB\",\"name\":\"月度计划平衡流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按工厂平衡\",\"description\":\"通过该流程，对销售需求进行分析、判断产能及资源满足情况，制定对应的生产方案并进行决策\\n\",\"recordStatus\":1,\"parentId\":\"58461ad5425d7068f022fca6153cba31\",\"createdBy\":\"1529289817864847362\",\"created\":\"2023-05-16 10:34:50\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"94b60fbe733691fcadef36b885cea954\",\"code\":\"OTD030205P014SCB\",\"name\":\"计划编制管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"计划编制管理\",\"description\":\"本流程的处理对象为月度计划与周度生产计划，计划编制周期内“定时”触发本流程，主要是指需求端和能力端产销平衡共识基础上，编制工厂级整车月度/周度/日的生产计划、及客户订单计划的过程\",\"recordStatus\":1,\"parentId\":\"f1312edc81d9e682268404eedb6fe279\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:57:09\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"24fd0358797a099fc1f02809be3656d1\",\"code\":\"OTD03020301P099SCB\",\"name\":\"周度计划编制流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"生产地\",\"description\":\"规范了计划编制的约束条件，排程的业务规则及需要的输入输出条件等\",\"recordStatus\":1,\"parentId\":\"94b60fbe733691fcadef36b885cea954\",\"createdBy\":\"1501029270079770626\",\"created\":\"2023-05-12 11:16:54\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"6d03eb22bfd47d2b46a427af10a4f4aa\",\"code\":\"OTD03020302P130SCB\",\"name\":\"月度生产计划编制流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按工厂\",\"description\":\"按工厂结合销售订单需求及平衡情况进行计划编制\",\"recordStatus\":1,\"parentId\":\"94b60fbe733691fcadef36b885cea954\",\"createdBy\":\"1529289817864847362\",\"created\":\"2023-05-16 18:08:27\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"b0b96c4c99337711ed4a61ccd07e42c1\",\"code\":\"OTD03020303P134SCB\",\"name\":\"日作业计划管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按厂区\",\"description\":\"日计划编制流程说明\",\"recordStatus\":1,\"parentId\":\"94b60fbe733691fcadef36b885cea954\",\"createdBy\":\"1557612700769107970\",\"created\":\"2023-05-17 13:52:05\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"63a62724baa64062bfd344ff7e24209c\",\"code\":\"OTD0303M001SCB\",\"name\":\"生产制造管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":null,\"description\":\"包括生产执行管理和生产计划运营管控两部分\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:05:55\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"20643cd74f7f350aac5bb94faae1430b\",\"code\":\"OTD030301P015SCB\",\"name\":\"生产执行管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"生产执行管理\",\"description\":\"依据生产计划安排，厂区各车间有序组织车辆生产，并对生产过程进行有效控制，使生产能够作业计划均衡、持续、高效的运行\",\"recordStatus\":1,\"parentId\":\"63a62724baa64062bfd344ff7e24209c\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 08:59:10\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"e7732b9d261c46b60471abea5e21c68d\",\"code\":\"OTD03030101P114SCB\",\"name\":\"生产工序间检查及控制流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"针对各车间工序件质量检查控制过程\",\"description\":\"红旗制造中心各车间工序间质量检查过程中涉及的质量信息传递和问题解决进行管理，重点对车间工序互检、自检和QRK检查过程的信息传递进行管理，确保信息传递准确、有效。\",\"recordStatus\":1,\"parentId\":\"20643cd74f7f350aac5bb94faae1430b\",\"createdBy\":\"1529289767962931201\",\"created\":\"2023-05-15 19:02:56\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"afa03a5db98b601365bb2018344ef3ea\",\"code\":\"OTD03030103P122SCB\",\"name\":\"工位绿化管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"工位绿化管理推进\",\"description\":\"通过工艺组件识别、质量条件梳理、质量活动梳理、评价等，将质量保证条件落实到每个生产工位，并持续开展完善日常质量预防活动，通过提升每个最小单元“工位”的质量保证能力，实现车间、工厂质量保证能力的跃迁。\",\"recordStatus\":1,\"parentId\":\"20643cd74f7f350aac5bb94faae1430b\",\"createdBy\":\"1501033335295676418\",\"created\":\"2023-05-16 09:02:28\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"ce2b242b13c20fcbe81dd0e2db2e451b\",\"code\":\"OTD03030102P116SCB\",\"name\":\"标准作业执行管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"标准作业执行管理推进\",\"description\":\"本流程主要包括标准作业文件编制、会签审批、作业观察、变更等全过程管理活动\",\"recordStatus\":1,\"parentId\":\"20643cd74f7f350aac5bb94faae1430b\",\"createdBy\":\"1529303289690189826\",\"created\":\"2023-05-16 09:27:27\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"aa796237cd78b735d136b79b4230559a\",\"code\":\"OTD030302P016SCB\",\"name\":\"生产计划运营管控流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"生产计划运营管控\",\"description\":\"规范生产计划执行控制和管理业务，包括日作业计划管理、作业计划执行、生产异常处理、生产加班管理、迂回生产管控、整备计划管理以及生产过程分析与评价\",\"recordStatus\":1,\"parentId\":\"63a62724baa64062bfd344ff7e24209c\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:01:25\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"be10c6f5f28d9dddd32e4a06d7d2c57d\",\"code\":\"OTD03030201P132SCB\",\"name\":\"整备计划管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按厂区\",\"description\":\"按厂区，结合质保部下发的整备通知单，开展整备计划及整备组织\",\"recordStatus\":1,\"parentId\":\"aa796237cd78b735d136b79b4230559a\",\"createdBy\":\"1501026806437875714\",\"created\":\"2023-05-16 18:24:06\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"1a2a443fc4226cf460577547879e2951\",\"code\":\"OTD03030202P132SCB\",\"name\":\"生产组织管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"各厂区\",\"description\":\"根据作业计划安排，组织各厂区完成当日生产工作，收集各项生产指标完成情况\",\"recordStatus\":1,\"parentId\":\"aa796237cd78b735d136b79b4230559a\",\"createdBy\":\"1600767551572443138\",\"created\":\"2023-05-16 18:29:35\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"458e60de6f372c4302472108ff5d9859\",\"code\":\"OTD03030203P138SCB\",\"name\":\"迂回生产管控流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按厂区\",\"description\":\"按厂区迂回生产\",\"recordStatus\":1,\"parentId\":\"aa796237cd78b735d136b79b4230559a\",\"createdBy\":\"1557612700769107970\",\"created\":\"2023-05-17 14:24:46\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"eb4c3aa336b1ea943ab461bad06083f8\",\"code\":\"OTD03030204P138SCB\",\"name\":\"生产运行评价\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按厂区\",\"description\":\"通过收集、分析生产运行数据，结合指标差异，导出效率、交付、平顺化改善课题，采用生产运行评价、课题循环点检等方式解决生产效率问题，促进生产管理指标向上，实现生产效率、交付、平顺化提升\",\"recordStatus\":1,\"parentId\":\"aa796237cd78b735d136b79b4230559a\",\"createdBy\":\"1501031506595909633\",\"created\":\"2023-05-17 14:24:48\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"b00f19129f938e26d3d7fe90977a254b\",\"code\":\"OTD03030205P145SCB\",\"name\":\"生产爬坡管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"各厂区新车型爬坡生产组织\",\"description\":\"各厂区完成爬坡生产组织工作，实现各项生产指标，支撑新车型爬坡计划达成，满足销售需求\",\"recordStatus\":1,\"parentId\":\"aa796237cd78b735d136b79b4230559a\",\"createdBy\":\"1600767551572443138\",\"created\":\"2023-05-17 19:19:43\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"20e953c9c4f3319f989426a88a253bc5\",\"code\":\"OTD03030206P148SCB\",\"name\":\"生产加班时间确认及维护流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10048932_MS-0218\",\"busScene\":\"按厂区\",\"description\":\"按厂区结合当日实际生产完成情况，确定生产类加班时长，并在考勤系统中维护各领域生产类加班信息\",\"recordStatus\":1,\"parentId\":\"aa796237cd78b735d136b79b4230559a\",\"createdBy\":\"1501033079631876097\",\"created\":\"2023-05-18 10:14:34\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"2adcd07b413c57f7646ca25286c90087\",\"code\":\"OTD0304M001SCB\",\"name\":\"自制生产能力管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"本流程以保障整车生产生产能力为出发点，通过规范中长期产能规划方案及年度生产规划方案的形成与实施，确保项目投资合理、市场需求得以及时满足。\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:07:36\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"37e9a7c6b5cfbb0685056c63f2e6fd53\",\"code\":\"OTD030401P017SCB\",\"name\":\"制定自制产能规划流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"制定自制产能规划\",\"description\":\"以年度销量规划为前提，制定年度产能保障规划方案，保证生产计划达成，年度产能利用率处于合理区间\",\"recordStatus\":1,\"parentId\":\"2adcd07b413c57f7646ca25286c90087\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:03:55\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"9c1a76dd15449c3c2bf5e38fb8f74941\",\"code\":\"OTD03040101P125SCB\",\"name\":\"整车自制产能规划流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"年度整车自制产能规划方案制定\",\"description\":\"本流程以保障整车自制生产能力为出发点，通过规范产能应对方案及年度改造计划的制定，支撑年度生产计划的达成\",\"recordStatus\":1,\"parentId\":\"37e9a7c6b5cfbb0685056c63f2e6fd53\",\"createdBy\":\"1501029562317901826\",\"created\":\"2023-05-16 16:08:57\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"d613d09aa854eb004d83d4537212c081\",\"code\":\"OTD030402P018SCB\",\"name\":\"人员岗位规划及保障流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"人员岗位规划及保障\",\"description\":\"人员岗位规划及保障\",\"recordStatus\":1,\"parentId\":\"2adcd07b413c57f7646ca25286c90087\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:15:06\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"d805636ed45b2c075f80840583df63c7\",\"code\":\"OTD0305M001SCB\",\"name\":\"外协件产能管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"本流程适用于外协件年度产能管理业务，具体指：为了保证整车外协件供应能力而触发的外协件供应能力规划方案分析制定、方案决策与审批、项目管理及产能达成的过程。\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:09:38\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"b9db7a4d7a304d8efa15e07f4d0767ad\",\"code\":\"OTD030501P019SCB\",\"name\":\"年度外协件能力规划及保障流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"年度外协件能力规划及保障\",\"description\":\"本流程适用于外协件年度能力规划及保障业务，具体指：为了保证整车外协件供应能力而触发的外协件年度产能的调查分析、规划方案分析制定、方案决策与审批、项目管理及产能达成的过程\",\"recordStatus\":1,\"parentId\":\"d805636ed45b2c075f80840583df63c7\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:16:16\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"34128851a52cb59209e3f709ac365105\",\"code\":\"OTD0306M001SCB\",\"name\":\"物料供应管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"流程范围从接收M+6预测需求计划、W+2周计划、日作业计划、客户订单开始，直至物料供应至生产线侧位置\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:10:28\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"726b16b0daa49979be70d7cd6a2cd2a8\",\"code\":\"OTD030601P020SCB\",\"name\":\"量产物料筹措流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"量产物料筹措\",\"description\":\"流程范围从接收M+6预测需求计划、W+2周计划、客户订单开始，直至输出物料资源满足结果为止\",\"recordStatus\":1,\"parentId\":\"34128851a52cb59209e3f709ac365105\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:17:16\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"0c17976acb48878fb759b1edcdc84507\",\"code\":\"OTD03060101P056SCB\",\"name\":\"中长期物料订货管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"中长期物料订货管理\",\"description\":\"流程范围从接收设变预采用文件、零件发包产能开始，通过拆解物料需求计划，将需求与供应商供货能力平衡，识别产能缺口并推进，直至输出物料交付计划为止\",\"recordStatus\":1,\"parentId\":\"726b16b0daa49979be70d7cd6a2cd2a8\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-11 10:44:54\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"8c8e5f5945d1c4e9612b7b682d5e1f92\",\"code\":\"OTD0306010101M001SCB\",\"name\":\"年度物料需求预示管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"年度物料需求预示管理\",\"description\":\"对年度物料需求进行预示管理\",\"recordStatus\":1,\"parentId\":\"0c17976acb48878fb759b1edcdc84507\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-11 10:47:25\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"8c8e5f5945d1c4e9612b7b682d5e1f11\",\"code\":\"OTD0306010101M001SDD\",\"name\":\"测试\",\"level\":\"L6\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"年度物料需求预示管理\",\"description\":\"对年度物料需求进行预示管理\",\"recordStatus\":1,\"parentId\":\"8c8e5f5945d1c4e9612b7b682d5e1f92\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-11 10:47:25\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null}],\"nodeList\":null},{\"id\":\"01c37dfeb1f403ba66db021d85fcc7de\",\"code\":\"OTD0306010102M001SCB\",\"name\":\"物料需求计划管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料需求计划管理\",\"description\":\"流程范围从接收M+6预测需求计划（含选装包）、W+2周计划、新品爬坡计划、供货零件基础信息、物料库存开始，根据MBOM拆解物料毛需求，并与供应商产能、物料库存进行匹配，识别产能缺口；新品车型结合新品物料供货计划，直至供应商输出物料满足性及物料产能缺口信息为止\",\"recordStatus\":1,\"parentId\":\"0c17976acb48878fb759b1edcdc84507\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-11 16:27:01\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"876090365c3a04be4042e81aa3c552f4\",\"code\":\"OTD0306010103M001SCB\",\"name\":\"瓶颈资源管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"瓶颈资源管理\",\"description\":\"流程范围从接收判断后的物料交付风险、物料产能缺口信息开始，通过自动推送采购部联合推进，直至形成物料交付计划为止\",\"recordStatus\":1,\"parentId\":\"0c17976acb48878fb759b1edcdc84507\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-11 17:17:13\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null}],\"nodeList\":null},{\"id\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"code\":\"OTD03060102P069SCB\",\"name\":\"物料订单及交付管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料订单及交付管理\",\"description\":\"流程范围从接收生产计划、编制及发布物料订单开始，通过异地、集散中心及本地调达物流管理跟踪物料，对库存进行管理，直至识别并解决物料供应风险为止\",\"recordStatus\":1,\"parentId\":\"726b16b0daa49979be70d7cd6a2cd2a8\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-11 16:16:36\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"08491bfe31ca395a8fc08eb244914499\",\"code\":\"OTD0306010201M001SCB\",\"name\":\"物料订单管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料订单管理\",\"description\":\"流程范围从接收M+6预测需求计划、W+2周计划、N+7日锁定作业计划、客户订单开始，直至发布物料订单、看板、进口件订单、选装包订单为止\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-11 18:43:08\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"b86b39b24365d8aa77c96d96ce6b7581\",\"code\":\"OTD0306010202M001SCB\",\"name\":\"异地调达物流管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"异地调达物流管理\",\"description\":\"流程从接收物料订单、取货单开始，通过对异地调达物流监控，直至输出异地取货车辆实时位置和异地订单到货计划为止\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-11 20:24:04\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"69076c6b3aa4e39c8b92c4324547eb6f\",\"code\":\"OTD0306010203M001SCB\",\"name\":\"集散中心及干线运输管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"集散中心及干线运输管理\",\"description\":\"流程从接收异地订单到货计划、取货单、物料自动看板、物料手工急件看板、生产进度变更信息开始，通过对异地本地集散中心作业过程，以及干线运输监控，直至输出集散中心出入库信息、干线运输实时位置、集散中心物料库存位置\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-12 09:54:22\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"a327af36d87b4b7408cbeeb7d7f04f7c\",\"code\":\"OTD0306010205M001SCB\",\"name\":\"调达物流运行评价管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"调达物流运行评价管理\",\"description\":\"流程范围从接收承运方资源投入单、风险处理评价、标准执行情况开始，对调达物流资源投入确认，及品质异常清单制定对策，直至输出调达物流资源确认投入单和承运方绩效考核结果为止\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-12 10:19:11\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"f7a45630ecb1c6731c5c57b4e8080301\",\"code\":\"OTD0306010207M001SCB\",\"name\":\"物料供应风险管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料供应风险管理\",\"description\":\"流程范围从物料库存缺口数量及断点时间开始，匹配交付风险等级、推动并解决断点风险，直至风险关闭为止\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-12 13:43:53\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"61bdabb859d4b811695950830317d5e6\",\"code\":\"OTD0306010204M001SCB\",\"name\":\"本地调达物流管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"本地调达物流管理\",\"description\":\"流程从接收取货单、物料自动看板、物料手工急件看板、生产进度变更信息开始，监控本地集散中心发货及本地短途运输作业执行情况，直至本地取货车辆实时位置、本地调达到货计划为止\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-16 15:02:32\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"956f5ba8c148abacbad6efa2b8bbf201\",\"code\":\"OTD0306010206M001SCB\",\"name\":\"物料库存管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料库存管理\",\"description\":\"流程范围从看板、订单准时到货开始，获取供应商库存、在途库存、集散中心库存、工厂库存信息，监控高低储、先入先出情况，直至物料用于生产制造为止\",\"recordStatus\":1,\"parentId\":\"51864e26d83fc8fb1cc1c85a143bdcf1\",\"createdBy\":\"1521168081422196738\",\"created\":\"2023-05-16 15:10:17\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null}],\"nodeList\":null},{\"id\":\"0b3f873e4a7d7832fab84e0676861192\",\"code\":\"OTD03060103P119SCB\",\"name\":\"3.6.1.3 调达物流结算管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"调达物流业务结算\",\"description\":\"通过结算流程，规范结算过程汇中需填报表单、结算依据数据\",\"recordStatus\":1,\"parentId\":\"726b16b0daa49979be70d7cd6a2cd2a8\",\"createdBy\":\"1501034202723880961\",\"created\":\"2023-05-16 09:12:19\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"415ce6af120aeff213b19320f033b22d\",\"code\":\"OTD030602P021SCB\",\"name\":\"物料仓储管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"本流程从物料入库验收、供给、出库、库存管理等角度对物料实物流进行了描述\",\"description\":\"本流程从物料入库验收、供给、出库、库存管理等角度对物料实物流进行了描述\",\"recordStatus\":1,\"parentId\":\"34128851a52cb59209e3f709ac365105\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:20:57\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"7652292c35c15550c7850fc5d056dc67\",\"code\":\"OTD03060201P059SCB\",\"name\":\"物料收发存管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料收发存管理\",\"description\":\"本流程从看板管理、物料入库验收、库存管理、出库管理等角度对物料实物流进行了描述\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 13:17:11\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"76c4b57620ef7c17711078fb46474394\",\"code\":\"OTD0306020102M001SCB\",\"name\":\"物料入库管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料入库管理\",\"description\":\"本流程规定长青、蔚山、繁荣等三大厂区物料管理在账零件的入库业务。\",\"recordStatus\":1,\"parentId\":\"7652292c35c15550c7850fc5d056dc67\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 18:07:52\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"97f7ceb058fb9b9502fc473084f170d8\",\"code\":\"OTD0306020103M001SCB\",\"name\":\"厂内库存管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"厂内库存管理\",\"description\":\"本流程的目的加强零件管理，明确零件盘点工作过程各部门工作任务，确保方案按目标和计划实施，达成零件盘点目标。\",\"recordStatus\":1,\"parentId\":\"7652292c35c15550c7850fc5d056dc67\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 18:23:02\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"b04f5f9d8a1c161a6f9c54c65db5a44e\",\"code\":\"OTD0306020104M001SCB\",\"name\":\"物料出库管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物料出库管理\",\"description\":\"本流程规定长青、蔚山、繁荣等三大厂区物料管理在账零件的出库业务。\",\"recordStatus\":1,\"parentId\":\"7652292c35c15550c7850fc5d056dc67\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-12 09:48:32\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null},{\"id\":\"6a82503dc89b021f65868873ad1ff6e9\",\"code\":\"OTD0306020101M001SCB\",\"name\":\"看板管理流程\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"看板管理\",\"description\":\"本流程明确物料订购看板发注业务作业前提、作业流程步骤及规则\",\"recordStatus\":1,\"parentId\":\"7652292c35c15550c7850fc5d056dc67\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-17 17:53:36\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null}],\"nodeList\":null},{\"id\":\"bd3513b72a9c14610bf5f8826148cd17\",\"code\":\"OTD03060202P063SCB\",\"name\":\"板料订购管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"板料订购管理\",\"description\":\"本流程的目的加强板料管理，明确了板料看板生成、板料验收、板料入库，验收单创建等日常管理工作流程。\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 13:18:16\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"f5e898a82df99e452b43477c0db5004d\",\"code\":\"OTD03060203P086SCB\",\"name\":\"辅材订货及领用管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"辅材订货及领用管理\",\"description\":\"本流程明确了辅材订购、入库验收、库存管理、出库、结算等日常管理工作流程。\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 14:52:34\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"32de9bc7996e20fbc0de0ce07f38cb7e\",\"code\":\"OTD03060204P088SCB\",\"name\":\"物流器具管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物流器具管理\",\"description\":\"适用于红旗三大厂区在产车型使用的物流器具日常管理。\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 15:06:49\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"0096c2ab5630ddf69ef5b5a44f77ea0b\",\"code\":\"OTD03060205P088SCB\",\"name\":\"三方物流管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"三方物流管理\",\"description\":\"对红旗三大厂区物流业务供应商的实施\\\\运行进行管理,针对物流服务过程设立KPI指标进行管控与考核，对绩效进行评价,确保三方物流服务质量,满足红旗品牌运营要求。\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 15:20:05\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"4a35a21532c69776917539462468e41c\",\"code\":\"OTD03060206P089SCB\",\"name\":\"物流现场改善流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物流现场改善\",\"description\":\"适用于红旗三大厂区SOP后现场物流改善实施作业流程\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 17:41:16\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"a01c29209654e4902d3b288da8e8cdfd\",\"code\":\"OTD03060207P089SCB\",\"name\":\"不良品实物管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"不良品实物管理\",\"description\":\"本流程明确了量产产品生产过程中造成的零件、总成报废品/退修品的判定、交接、账目处理、报废过程。\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 17:53:38\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"3ef97f76abbaa236b0987d311b05c0fe\",\"code\":\"OTD03060208P089SCB\",\"name\":\"有价废弃物处理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"有价废弃物处理\",\"description\":\"本流程对普通固体废弃物资的处置申请、审批、分类、交接、暂存、破坏、运输、检斤、结算过程进行了明确。\",\"recordStatus\":1,\"parentId\":\"415ce6af120aeff213b19320f033b22d\",\"createdBy\":\"1552501808537366529\",\"created\":\"2023-05-11 17:59:12\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"cc3f5c933b6fe8ad788bad12e6c8fbb0\",\"code\":\"OTD030603P022SCB\",\"name\":\"物流成本优化流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"物流成本优化\",\"description\":\"物流成本优化流程\",\"recordStatus\":1,\"parentId\":\"34128851a52cb59209e3f709ac365105\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:21:52\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"5892d12e011c6d286d780f4cf733884a\",\"code\":\"OTD03060302P082SCB\",\"name\":\"降本目标设定流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"本流程综合考虑物流成本实际值、物流成本对标结果及财务部降本要求制定降本目标\",\"description\":\"本流程综合考虑物流成本实际值、物流成本对标结果及财务部降本要求制定降本目标\",\"recordStatus\":1,\"parentId\":\"cc3f5c933b6fe8ad788bad12e6c8fbb0\",\"createdBy\":\"1501034202723880961\",\"created\":\"2023-05-11 18:08:44\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"a66cb5774521945d9aaef0c5f56a4f6e\",\"code\":\"OTD03060303P083SCB\",\"name\":\"降本方案制定及实施流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"本流程方案明确详细降本举措及实施计划，并对实施效果进行确认\",\"description\":\"本流程方案明确详细降本举措及实施计划，并对实施效果进行确认\",\"recordStatus\":1,\"parentId\":\"cc3f5c933b6fe8ad788bad12e6c8fbb0\",\"createdBy\":\"1501034202723880961\",\"created\":\"2023-05-11 18:09:19\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"026c5a3b82d871bf8047b6e01d822e36\",\"code\":\"OTD03060304P084SCB\",\"name\":\"物流成本优化评价标准化流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"本流程对物流成本优化情况进行评价，并根据评评审结果对管控评价标准更新\",\"description\":\"本流程对物流成本优化情况进行评价，并根据评评审结果对管控评价标准更新\",\"recordStatus\":1,\"parentId\":\"cc3f5c933b6fe8ad788bad12e6c8fbb0\",\"createdBy\":\"1501034202723880961\",\"created\":\"2023-05-11 18:10:00\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"bdae4d69790247f72af57aeeec693f1e\",\"code\":\"OTD0307M001SCB\",\"name\":\"制造质量管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"包括\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:11:27\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"1f965d5f714624bb06e41271829c2a96\",\"code\":\"OTD030702P104SCB\",\"name\":\"整车在线检查控制流程 \",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"整车在线检查控制\",\"description\":\"依据整车检查标准作业要领书，组织人员开展静检至终检阶段的整车质量检查，形成整车检测卡\\\\整车检查卡，对不合格车辆进行处置，确保整车合格，下发随车证书并交付。\",\"recordStatus\":1,\"parentId\":\"bdae4d69790247f72af57aeeec693f1e\",\"createdBy\":\"1501030113789186049\",\"created\":\"2023-05-12 10:46:58\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"c5660e2c8c7b85b7611d5ed52140cd92\",\"code\":\"OTD03070201R010SCB\",\"name\":\"量产阶段生产过程问题识别验证流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"量产阶段生产过程问题识别验证\",\"description\":\"接收现场各环节检查发生的质量问题，进行解析、处理；处理不了的问题升级到制造技术部《复杂问题解决流程》\",\"recordStatus\":1,\"parentId\":\"1f965d5f714624bb06e41271829c2a96\",\"createdBy\":\"1501037843656577026\",\"created\":\"2023-05-18 10:27:35\",\"processVersion\":\"V1.00\",\"fileType\":\"R\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"d30bdfb2d10e60f54e3e5c7dfa1919ef\",\"code\":\"OTD030703P104SCB\",\"name\":\"监视和测量设备管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"监视和测量设备管理\",\"description\":\"本流程是对监视和测量设备管理的规定，依据ISO 10012、IATF 16949、ISO/IEC 17025、JJF 1033等标准和规范的要求编制。\\n本流程将监视和测量设备管理工作内容划分为立项评审、方案评审、精度验收、周期控制、资产处置等阶段，明确各阶段的输入条件、责任分工、输出物及时序关系。\",\"recordStatus\":1,\"parentId\":\"bdae4d69790247f72af57aeeec693f1e\",\"createdBy\":\"1501026002041671682\",\"created\":\"2023-05-15 08:53:15\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"bcfd41f91e061763e1abb41804c0f480\",\"code\":\"OTD030704R010SCB\",\"name\":\"管理批量外协件质量\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"批量外协件供应商质量管理场景\",\"description\":\"按照既定原则，识别并执行批量外协件供应商的飞行检查、批量抽检、绩效评价、量产审核工作。\",\"recordStatus\":1,\"parentId\":\"bdae4d69790247f72af57aeeec693f1e\",\"createdBy\":\"1501027428637708290\",\"created\":\"2023-05-18 09:50:40\",\"processVersion\":\"V1.00\",\"fileType\":\"R\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"code\":\"OTD0308M001SCB\",\"name\":\"生产资源管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"对生产一线的日常人员出勤、技能、设备工装、外委维修、备件工具等的管理\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-06 17:12:11\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"c20dd46675e4300f04f6a9e4b3101a8a\",\"code\":\"OTD030801P023SCB\",\"name\":\"生产人员日常管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"生产人员日常管理\",\"description\":\"对一线生产单位的人员需求、考勤管理、人员调整等方面进行管理及服务保障\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:22:55\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"e4eeb2773d58d25cf2add3e107cb79f8\",\"code\":\"OTD03080102P133SCB\",\"name\":\"人员技能与提升管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"该流程描述了生产操作人员上岗前，需要开展的理论培训、技能培训实施流程，明确各环节的分工及产出。\",\"description\":\"本流程核心内容为操作岗位员工厂级培训及评价管理流程和操作岗位员工车间级操作培训及评价管理流程。\",\"recordStatus\":1,\"parentId\":\"c20dd46675e4300f04f6a9e4b3101a8a\",\"createdBy\":\"1562291413120479234\",\"created\":\"2023-05-17 10:51:53\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"7708257aa5f1f27c2d020df975e2e736\",\"code\":\"OTD030802P024SCB\",\"name\":\"设备工装日常管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"设备工装日常管理\",\"description\":\"规定设备工装点检、维修、保养、异常处理等相关工作\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:23:53\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"bd0923435784fe991d1dc4b27d3d6113\",\"code\":\"OTD03080201P035SCB\",\"name\":\"设备工装应急管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"用于生产设备、动力设备及工装应急计划的制定、审批、演练及关键设备工装管理等\",\"description\":\"装备维修技术员编制修订关键设备工装清单，并依据关键设备工装清单形成《关键设备工装易损件清单》；同时依据关键设备工装清单形成《应急梳理清单》并制作《应急计划》，每年进行演练并修订\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1501030320044085250\",\"created\":\"2023-05-10 13:54:15\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"977b1b17711000d29a1d956597a4f058\",\"code\":\"OTD03080207P132SCB\",\"name\":\"备件采购需求申请及领用管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"有备件采购需求和领用需求时按此流程进行申请\",\"description\":\"备件和工装采购申请、到货验收、入库管理和领用发放管理\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1501035745124651009\",\"created\":\"2023-05-15 14:52:45\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"89cf270809e00b1da89b8b3a900fe466\",\"code\":\"OTD03080202P113SCB\",\"name\":\"外委维修管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"11\",\"description\":\"本流程适用于红旗制造中心生产及动力设备的维修、维护、检查、保养等劳务外委项目的相关工作。\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1597438459076251649\",\"created\":\"2023-05-15 15:17:40\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"6334910624ec1aafcd9f7e5e60b3c504\",\"code\":\"OTD03080203P113SCB\",\"name\":\"管理固定资产实物流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"11\",\"description\":\"本流程适用于红旗制造中心资产定人定机管理，组织资产实物的定期盘点，核实处置资产、转固资产，更新、维护资产台账等相关管理工作。\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1597438459076251649\",\"created\":\"2023-05-15 15:46:58\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"2a59e0adb295b518609c48a7b23ce15f\",\"code\":\"OTD03080204P115SCB\",\"name\":\"设备工装点检保养管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"进行设备的日常点检、保养工作\",\"description\":\"用于红旗制造中心生产设备、动力设备及工装的检修、点检、保养等活动的管理。检修包括年度预防维修和针对性维修，保养包括专业保养和自主保养。\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1501030320044085250\",\"created\":\"2023-05-16 07:55:47\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"9ebebf23ec8f66c17ffeae9cb4883024\",\"code\":\"OTD03080206P132SCB\",\"name\":\"工具采购需求申请及领用管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"工具采购需求申请提出、需求审批、订单收货、物资发放、物资报废\",\"description\":\"工具采购申请、到货验收、入库管理和领用发放管理\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1501035745124651009\",\"created\":\"2023-05-16 10:19:58\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"f0cb8c6f328a3373d4a9ec25b374b654\",\"code\":\"OTD03080205P124SCB\",\"name\":\"设备工装故障处理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"从设备工装发生故障到故障处理完毕全过程\",\"description\":\"设备工装发生故障-提报故障-维修故障-填写设备故障记录-编写故障分析报告、设备故障周期性分析、提出设备管理基准书修订需求、反馈针对性维修需求\",\"recordStatus\":1,\"parentId\":\"7708257aa5f1f27c2d020df975e2e736\",\"createdBy\":\"1501035000459530242\",\"created\":\"2023-05-16 15:06:49\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"5ca442a26399f072981ccdb6708e2717\",\"code\":\"OTD030805P027SCB\",\"name\":\"环境因素及危险源识别与评价控制管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"环境因素及危险源识别与评价控制管理\",\"description\":\"环境因素、危险源评价要求及识别管控\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:27:56\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"fd6629bc77a09c44b5b2fc253ad26f71\",\"code\":\"OTD03080501P123SCB\",\"name\":\"环境/安全应急准备与响应管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"识别风险、编制应急预案、制定应急演练计划、实施应急演练及评审改进。\",\"description\":\"为确保红旗制造中心在生产经营过程中出现重大事故/事件或紧急状态时作出响应，以预防或减少环境/安全的事故及人员伤害。\",\"recordStatus\":1,\"parentId\":\"5ca442a26399f072981ccdb6708e2717\",\"createdBy\":\"1501026032928526338\",\"created\":\"2023-05-16 10:41:39\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"b21a5095bb5c34ca2edcffb498db4a40\",\"code\":\"OTD03080502P151SCB\",\"name\":\"劳动保护用品管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"劳动防护用品管理\",\"description\":\"为保障红旗制造中心员工生产安全，劳动防护用品需严格按照管理流程进行\",\"recordStatus\":1,\"parentId\":\"5ca442a26399f072981ccdb6708e2717\",\"createdBy\":\"1501026164185075713\",\"created\":\"2023-05-18 13:29:04\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"9e5635f434c01950c5a315eb10de0005\",\"code\":\"OTD030806P028SCB\",\"name\":\"生产改善管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"生产改善管理\",\"description\":\"对量产后车型进行改善立项、改善对策、实施改善、效果验证，助力精益生产目标达成\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:29:26\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"b61cdcd5eb2098a2800ff2c4a7e7b74f\",\"code\":\"OTD03080601P108SCB\",\"name\":\"个人匠·新改善活动管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"个人改善案例活动推进\",\"description\":\"规范全体员工在个人匠·新改善活动中提案的编制、审批、发布、培训、执行、点检评价等阶段，工作过程中的标准\",\"recordStatus\":1,\"parentId\":\"9e5635f434c01950c5a315eb10de0005\",\"createdBy\":\"1529289372647866370\",\"created\":\"2023-05-15 14:56:00\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"c93a0eea22156b38ddc3f874616d0dd3\",\"code\":\"OTD03080602P109SCB\",\"name\":\"匠·新改善小组活动管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"指导全体班组在匠·新改善小组活动中开展工作\",\"description\":\"规范全体员工在匠·新改善小组活动中选题、活动开展、成果申报、成果评价，日常点检等阶段工作过程中的标准\",\"recordStatus\":1,\"parentId\":\"9e5635f434c01950c5a315eb10de0005\",\"createdBy\":\"1529289372647866370\",\"created\":\"2023-05-15 15:08:29\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"f12caa26020c444fffefc4a7ae872b08\",\"code\":\"OTD030807P030SCB\",\"name\":\"精益生产体系规划与运行流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"精益生产体系规划与运行\",\"description\":\"精益生产体系规划与运行流管理\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1580474074961117185\",\"created\":\"2023-05-12 09:30:22\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"3d5168561d03b41f5e291adcc0c5197b\",\"code\":\"OTD030804P026SCB\",\"name\":\"能源管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"整车生产能源管理\",\"description\":\"本流程是对红旗制造中心能源体系策划、执行、评价、改进的规定，依据GB/T 23331-2020/ISO 50001: 2018《能源管理体系要求及使用指南》相关条款编制，遵循集团公司相关要求，为进一步完善能源管理，提升能源利用效率，降低能源消耗及成本。本流程是对能源体系策划、执行、评价、改进等方面进行规定\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1501034977499910145\",\"created\":\"2023-05-17 16:01:10\",\"processVersion\":\"V3.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"95ccd728eceb6e20e05b4adfc4314339\",\"code\":\"OTD030808P149SCB\",\"name\":\"现场制造技术管理流程\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"生产现场制造技术管理\",\"description\":\"适用于指导红旗制造中心各工程专业技术人员在现场制造技术管理中的职责和工作，为现场制造技术管理提供依据。\",\"recordStatus\":1,\"parentId\":\"010e409d6c7cfc71a5fe7f059d0f783e\",\"createdBy\":\"1501025939097751553\",\"created\":\"2023-05-18 12:08:54\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"0a0c6063d3b8f98ca4d58134195b03ea\",\"code\":\"OTD0309M001SCB\",\"name\":\"整车物流管理流程\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10051528_MS-0218\",\"busScene\":null,\"description\":\"本流程从整车物流规划、发运计划、整车仓储、运输交付等对整车物流过程进行了描述\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1501032767936368642\",\"created\":\"2023-05-08 08:58:13\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[],\"nodeList\":null},{\"id\":\"c6ec880cc46fb12be67bb91ac40c59c7\",\"code\":\"OTD0310M001SCB\",\"name\":\"动力总成生产制造交付\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":null,\"description\":\"按照整车需求订单拆解动力总车生产计划，通过生产准备保证生产正常开始，并基于高效、高质量、低成本的生产过程控制保证按节点产出卓越质量的产品，满足整车交付任务，为最终用户提供最佳的用车体验\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1544236548875145218\",\"created\":\"2023-05-08 11:39:49\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"b6263694aa6bcf864f35961d01bdb660\",\"code\":\"OTD031004P052SCB\",\"name\":\"动力总成工厂生产计划管理-V1.2\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"接到整车生产计划后，基于生产条件编制总成装配、机加生产计划，并进行审批与下发，根据计划执行情况进行适时调整\",\"description\":\"接到整车生产计划后，基于生产条件编制总成装配、机加生产计划，并进行审批与下发，根据计划执行情况进行适时调整\",\"recordStatus\":1,\"parentId\":\"c6ec880cc46fb12be67bb91ac40c59c7\",\"createdBy\":\"1544236548875145218\",\"created\":\"2023-05-11 07:31:08\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"4573f7ec3ee2275657daa101cd964c76\",\"code\":\"OTD03100401P053SCB\",\"name\":\" 动力总成工厂生产计划编制-V1.5\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":null,\"busScene\":\"接到整车生产计划后，基于生产条件编制总成装配、机加生产计划，并进行审批与下发，根据计划执行情况进行适时调整\",\"description\":\"接到整车生产计划后，基于生产条件编制总成装配、机加生产计划，并进行审批与下发，根据计划执行情况进行适时调整\",\"recordStatus\":1,\"parentId\":\"b6263694aa6bcf864f35961d01bdb660\",\"createdBy\":\"1544236548875145218\",\"created\":\"2023-05-12 09:56:24\",\"processVersion\":\"V5.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"280ca93875115900399fbd6f0a173b1b\",\"code\":\"OTD0310M001SCB\",\"name\":\"新动总成生产制造交付\",\"level\":\"L2\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":null,\"description\":\"描述了从年度产能预测到新动总成交付的全过程。\",\"recordStatus\":1,\"parentId\":\"61552613f9be4c815476ed190d9ee523\",\"createdBy\":\"1544150634178072578\",\"created\":\"2023-05-08 16:45:45\",\"processVersion\":\"V1.00\",\"fileType\":null,\"children\":[{\"id\":\"259e5da090a065b774692729f1b3b540\",\"code\":\"OTD031101P037SCB\",\"name\":\"新动订单计划管理\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":\"量产状态\",\"description\":\"流程范围包括产销平衡管理、计划编制管理\",\"recordStatus\":1,\"parentId\":\"280ca93875115900399fbd6f0a173b1b\",\"createdBy\":\"1574971026028400641\",\"created\":\"2023-05-11 08:34:36\",\"processVersion\":\"V2.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"86b65b5d20d36de386139de2101fe6a7\",\"code\":\"OTD03110102P086SCB\",\"name\":\"新动月度计划平衡流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":\"月度计划风险识别\",\"description\":\"流程范围从整车需求波动分析、判断生产需求满足、编制生产对应方案、多版本生产计划方案编制、多版本生产方案决策\",\"recordStatus\":1,\"parentId\":\"259e5da090a065b774692729f1b3b540\",\"createdBy\":\"1544150634178072578\",\"created\":\"2023-05-10 18:03:37\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null},{\"id\":\"5c77241a016c4d7207b9cea208a7bd02\",\"code\":\"OTD03110101P041SCB\",\"name\":\"新动计划编制管理流程\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":\"量产状态\",\"description\":\"包括月度计划编制管理流程、周度计划编制管理流程\",\"recordStatus\":1,\"parentId\":\"259e5da090a065b774692729f1b3b540\",\"createdBy\":\"1574971026028400641\",\"created\":\"2023-05-17 09:02:28\",\"processVersion\":\"V3.00\",\"fileType\":\"P\",\"children\":[],\"nodeList\":null}],\"nodeList\":null},{\"id\":\"8b24f459f34febd03560fd3c2f023c22\",\"code\":\"OTD031102P055SCB\",\"name\":\"新动质量管理与控制\",\"level\":\"L3\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":\"量产状态\",\"description\":\"包含量产外协件质量管理、生产过程监控、生产产品监控和质量控制问题管理\",\"recordStatus\":1,\"parentId\":\"280ca93875115900399fbd6f0a173b1b\",\"createdBy\":\"1574971026028400641\",\"created\":\"2023-05-11 10:32:48\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":[{\"id\":\"308e7bc4a158b902b04b51f3afcbdf14\",\"code\":\"OTD03110201M006SCB\",\"name\":\"新动生产过程监控\",\"level\":\"L4\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":\"量产状态\",\"description\":\"本流程包括量产产品质量目标管理、过程审核管理、监视和测量设备管理、实验室检测工作管理以及新能源动力总成在线检查控制\",\"recordStatus\":1,\"parentId\":\"8b24f459f34febd03560fd3c2f023c22\",\"createdBy\":\"1574971026028400641\",\"created\":\"2023-05-11 10:48:19\",\"processVersion\":\"V1.00\",\"fileType\":\"M\",\"children\":[{\"id\":\"3ed58f7e06495e17cef7ab3d21a73de9\",\"code\":\"OTD0311020101M001SCB\",\"name\":\"新动过程审核管理\",\"level\":\"L5\",\"busMainlineId\":\"2\",\"deptId\":\"10048918_MS-0218\",\"premisesId\":\"10033189_MS-0218\",\"busScene\":\"量产状态\",\"description\":\"本流程规定了过程审核的主要工作，包括过程审核详细计划、过程审核实施、过程评价、问题改进与管理。目的是规范红旗品牌过程审核/监察活动。通过审核查找影响产品质量的过程原因，评价和判断产品过程质量能力，发现改进、改善的机会，为纠正和持续改进提供准确依据与方向。通过监察查找审核业务开展存在的问题，不断完善过程审核业务，包括人员能力的影响。\",\"recordStatus\":1,\"parentId\":\"308e7bc4a158b902b04b51f3afcbdf14\",\"createdBy\":\"1574971026028400641\",\"created\":\"2023-05-11 10:52:30\",\"processVersion\":\"V1.00\",\"fileType\":\"P\",\"children\":null,\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null}],\"nodeList\":null}]}";

        // 处理数据
        BaseResult<List<BusinessProcessResponse>> result = JsonUtil.jsonToObject(response,
                new TypeReference<BaseResult<List<BusinessProcessResponse>>>() {
                });

        Map<String,String> resultMap = new HashMap<>();
        List<RelateVO> relateList = new ArrayList<>();
        List<TreeVO> nameList = new ArrayList<>();
        result.getData().forEach(data -> {
            TreeVO treeVO = new TreeVO();
            treeVO.setId(data.getId());
            treeVO.setName(data.getLevel()+data.getName());
            treeVO.setLevel(data.getLevel());
            treeVO.setFlag(Boolean.TRUE);

            if(Objects.nonNull(data.getParentId())){
                relateList.add(RelateVO.builder()
                                .id(data.getId())
                                .parentId(data.getParentId())
                        .build());
            }
            if(CollectionUtil.isNotEmpty(data.getChildren())){
                treeVO.setFlag(Boolean.FALSE);
                getChildrenData(data.getChildren(),nameList,relateList);
            }
            nameList.add(treeVO);
        });
        Map<String,String> relateMap = relateList.stream().collect(Collectors.toMap(RelateVO::getId,RelateVO::getParentId));
        Map<String,String> nameMap = nameList.stream().collect(Collectors.toMap(TreeVO::getId,TreeVO::getName));
        nameList.stream().filter(data -> Objects.equals(data.getFlag(),Boolean.TRUE)).forEach(data -> {
            StringBuilder name = new StringBuilder();
            name.append(data.getName()).append("-");
            String id = null;
            while (true){
                if(Objects.isNull(id)){
                    id = data.getId();
                }
                String parentId = relateMap.get(id);
                String parentName = nameMap.get(parentId);
                if (Objects.isNull(parentId)){
                    break;
                }
                id = parentId;
                name.append(parentName).append("-");
            }

            resultMap.put(data.getId(), name.substring(0,name.length()-1));
        });

        resultMap.forEach((k,v) -> {
            System.out.println("k:"+k+",v:"+v);
        });

    }

    private void getChildrenData(List<BusinessProcessResponse> children, List<TreeVO> nameList,List<RelateVO> relateList) {
        children.forEach(data -> {
            TreeVO treeVO = new TreeVO();
            treeVO.setId(data.getId());
            treeVO.setName(data.getLevel()+data.getName());
            treeVO.setLevel(data.getLevel());
            treeVO.setFlag(Boolean.TRUE);
            if(Objects.nonNull(data.getParentId())){
                relateList.add(RelateVO.builder()
                        .id(data.getId())
                        .parentId(data.getParentId())
                        .build());
            }
            if(CollectionUtil.isNotEmpty(data.getChildren())){
                treeVO.setFlag(Boolean.FALSE);
                getChildrenData(data.getChildren(),nameList,relateList);
            }
            nameList.add(treeVO);
        });
    }

    @Test
    public void test_5(){

        List<BusinessProcessResponse> list = new ArrayList<>();

        List<BusinessProcessResponse> menuTree = list.stream()
                .filter(menu -> Objects.equals(menu.getParentId(),null))
                .peek(menu -> menu.setChildren(getChildren(menu, list)))
                .collect(Collectors.toList());
        System.out.println(JsonUtil.toJsonString(menuTree));

    }
    /**
     * 递归查询子节点数据
     *
     * @param root 根节点
     * @param all  所有节点
     * @return 子节点数据
     */
    private List<BusinessProcessResponse> getChildren(BusinessProcessResponse root, List<BusinessProcessResponse> all) {
        return all.stream()
                .filter(menu -> root.getId().equals(menu.getParentId()))
                .peek(menu -> menu.setChildren(getChildren(menu, all)))
                .collect(Collectors.toList());
    }

    @Test
    public void test_3(){
        arrayList.stream().filter(data -> data.getUnitCode().equals("BU2304181508451249")).collect(Collectors.toList());
        arrayList.forEach(System.out::println);
        System.out.println("---------------------");
        arrayList = arrayList.stream().filter(data -> data.getUnitCode().equals("BU2304181508451249")).collect(Collectors.toList());
        arrayList.forEach(System.out::println);
    }

    @Test
    public void test_4(){
        String num = "7";
        String day = "";
        if(Objects.equals(num,"7")){
            day = "1";
        }else{
            day = String.valueOf(Integer.parseInt(num) + 1);
        }

        System.out.println(day);
    }

    @Test
    public void test_6(){
        System.out.println(MathUtil.multiplyToDecimal(MathUtil.divideToString("10","39",3),"100",1));
    }
}
